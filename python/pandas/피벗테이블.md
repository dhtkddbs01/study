# 1. 피벗테이블
인덱스별 컬럼별 값의 연산 가능
- `pd.pivot_table(데이터명, index=, columns=, values=, aggfunc=)`
  
## 1.1. 단일 인덱스, 단일 컬럼, 단일 값
```python
# Sex컬럼을 행에, Pclass컬럼을 열에 Survivied를 가지고 평균을 구한다.
# 값이 높을수록 생존 확률이 높다.
pd.pivot_table(df, index='Sex', columns='Pclass', values='Survived', aggfunc='mean')
# 연사자를 하나가 아닌 여러 개도 가능
pd.pivot_table(df, index='Sex', columns='Survived', values='Age', aggfunc=['max','min','mean'])
```
### 1.1.1. margin
- margins 옵션을 통해 행과 열 전체의 값도 구할 수 있다.
```python
# 행과 열의 전체 합계 구하기
pd.pivot_table(df, index='Sex', columns='Survived', values='Age', aggfunc='mean', margins=True)
```
## 1.2. 다중 인덱스, 다중 컬럼, 다중 값
```python
# 다중 인덱스, 다중 컬럼, 다중 값을 계산하려면 리스트로 데이터 프레임의 컬럼을 넣으면 된다.
pd.pivot_table(df, index=['Sex','Pclass'], columns=['Survived','Embarked'], values=['Age','Fare'], aggfunc='mean')
```
